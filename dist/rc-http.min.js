!function(t){"use strict";angular.module("rcHttp",[])}(),function(t){"use strict";angular.module("rcHttp").component("rcHttp",{transclude:!0,controller:"rcHttpCtrl",controllerAs:"$rcHttp",bindings:{templateUrl:"<?",auto:"@?",service:"@",method:"@",url:"@",config:"<",params:"<?",data:"<",response:"<",model:"=?",onStart:"&",onSuccess:"&",onError:"&"}})}(),function(l){"use strict";l.module("rcHttp").controller("rcHttpCtrl",["$scope","$element","$attrs","$transclude","$templateRequest","$injector","$log",function(n,s,t,r,e,o,a){var c,i=this;function u(t,e,n){return{data:n?void 0:t.data||null,success:!0===e,status:t.status||(!0===e?200:400),statusText:t.statusText||(!0===e?"OK":"Bad Request")}}this.$onInit=function(){e(l.isString(i.templateUrl)?i.templateUrl:"rc-http.tpl.html").then(function(t){if(l.isString(i.templateUrl)||s.append(r(n,function(){})),t.length){var e=l.element(t);s.append(e),o.get("$compile")(e)(n)}},function(t){}),l.isString(i.service)&&i.service.length&&o.has(i.service)||(i.service="$http"),c=o.get(i.service),l.isString(i.method)&&i.method.length&&"function"==typeof c[i.method]||(i.method="get"),l.isString(i.url)&&i.url.length||(i.url=!1),i.auto=!(!l.isUndefined(i.auto)&&!0!==i.auto),i.data=l.isObject(i.data)?i.data:{},i.response=i.response?l.copy(u(i.response,!0,!0)):u({},!1),i.config=l.isObject(i.config)?i.config:{cache:!0},l.isObject(i.params)&&l.extend(i.config.params,i.params),!0===i.auto&&("$http"!==i.service||"$http"===i.service&&i.url)&&i.send()},this.send=function(t){try{if(i.isPending=!0,l.isObject(t)&&l.isObject(t.form)&&(l.isFunction(t.form.$setTouched)&&t.$setTouched(),l.isFunction(t.form.$validate)&&t.$validate(),!t.form.$valid))return!1;var e;switch(i.model&&(i.config.data=i.model),(t=l.isObject(t)?t:l.copy(i.config)).params=t.params?t.params:l.copy(i.config.params),t.data=t.data?t.data:l.copy(i.config.data),i.onStart({$config:t}),i.method){case"get":case"delete":case"head":case"jsonp":e=c[i.method](i.url,t);break;case"post":case"put":case"patch":e=c[i.method](i.url,i.model,t);break;default:e=i.url?c[i.method](i.url,i.model,t):c[i.method](i.model,t)}return e.then(function(t){i.response=u(t,!0),i.onSuccess({$response:i.response}),i.isPending=!1},function(t){i.response=u(t,!1),i.onError({$response:i.response}),i.isPending=!1}),e}catch(t){a.error(t);var n={status:0,statusText:"Error send request"};i.response=u(n,!1),i.onError({$response:i.response}),i.isPending=!1}},i.isPending=void 0}])}(angular),angular.module("rcHttp").run(["$templateCache",function(t){t.put("rc-http.tpl.html","")}]);